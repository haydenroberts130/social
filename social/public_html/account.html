<!DOCTYPE html>
<html lang="en">
  <head>
    <title>User Account</title>
    <link rel="stylesheet" href="./css/account.css" />
    <script src="client.js" defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", async function () {
        try {
          // Fetch the username from the server
          const response = await fetch("/get/usernameFromCookie");
          if (!response.ok) {
            throw new Error("Failed to fetch username.");
          }

                // Update the content of the element with id "accTop"
                const accTopElement = document.getElementById("accTop");
                if (accTopElement) {
                    accTopElement.innerHTML = `<h1>${username}</h1>`;
                }
            });
        </script>
    </head>
    <body>
        <div id ="buttonBar">
            <input type="submit" value="+" id="postButton" class="styled-button" onclick="goToPost()" />
            <input type="submit" value="Logout" id="logoutButton" class="styled-button" onclick="logout()"/>
            <input type="submit" value="Feed" id="homeButton" class="styled-button" onclick="goToFeed()" />
        </div>
        <div id="header">
            <span id="accTop">
                <p>profile pic + name</p>
                <h1 id="displayName"></h1>
            </span>
        </div>
        <div id="displayArea">
            <div class="post">
                <div>username</div>
                <div class="post-image">
                    <img src="./img/testing.jpeg" alt="TESTING PICTURE">
                </div>
                <hr> <!-- This creates a visible line between the image and the caption -->
                <div class="post-content">
                    <span>caption goes here</span>
                    <input type="submit" value="<3 0" id="likeButton" class="styled-button" onclick="likePost()">
                </div>
            </div>
        </div>
        <hr />
        <!-- This creates a visible line between the image and the caption -->
        <div class="post-content">
          <span>caption goes here</span>
          <input
            type="submit"
            value="<3"
            id="likeButton"
            class="styled-button"
          />
        </div>
      </div>
    </div>
  </body>
</html>
